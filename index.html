<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API Vuer</title>
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://unpkg.com/axios@next"></script>
    <script src="https://unpkg.com/lodash@4"></script>
    <script src="https://unpkg.com/moment@2"></script>
    <link rel="stylesheet" href="/style/tailwind.css" />
  </head>
  <body class="bg-gray-100 min-h-screen text-gray-800">
    <div
      id="app"
      class="px-8 py-12 min-h-screen flex flex-col pb-0 sm:h-screen sm:grid sm:grid-cols-1 sm:grid-rows-layout sm:overflow-hidden"
    >
      <main
        class="flex-grow flex flex-col h-full sm:grid sm:grid-cols-2 sm:gap-x-7 sm:items-stretch"
      >
        <section class="sm:flex sm:flex-col sm:overflow-hidden">
          <header>
            <app-title></app-title>
          </header>
          <search
            :value="search"
            :placeholder="placeholder"
            @input="getResults"
            @clear-search="clearSearch"
          ></search>
          <div class="hidden sm:mt-6 sm:flex sm:flex-col sm:items-center">
            <robot-icon
              :has-search="hasSearch"
              :has-results="hasResults"
              :is-searching="isSearching"
            ></robot-icon>
            <div>{{resultsPlaceholder}}</div>
          </div>
          <div class="hidden sm:mt-6 sm:flex sm:flex-col sm:flex-grow sm:overflow-hidden">
            <div class="text-3xl text-center font-bold">Recent History</div>
            <ul v-if="searchHistory.length" class="mt-4 h-full overflow-auto">
              <history-log
                v-for="(log, index) in searchHistory"
                :log="log"
                :index="index"
                :key="index"
                @load-history-log="loadHistoryLog"
                @delete-history-log="deleteHistoryLog"
              ></history-log>
            </ul>
            <div v-else class="text-center text-gray-400 mt-4">
              No logs yet...
            </div>
          </div>
        </section>
        <section class="overflow-auto">
          <div
            v-if="!hasResults"
            class="mt-6 flex flex-col items-center sm:hidden"
          >
            <robot-icon
              :has-search="hasSearch"
              :has-results="hasResults"
              :is-searching="isSearching"
            ></robot-icon>
            <div>{{resultsPlaceholder}}</div>
          </div>
          <results-list v-if="hasFavorites && !hasResults">
            <result-item
              v-for="(result, index) in favoriteResults"
              :key="index"
              :index="index"
              :result="result"
              :favorite-results="favoriteResults"
              @delete-result="deleteResult"
              @favorite-result="favoriteResult"
            ></result-item>
          </results-list>
          <results-list v-if="hasResults">
            <result-item
              v-for="(result, index) in results"
              :key="index"
              :index="index"
              :result="result"
              :favorite-results="favoriteResults"
              @delete-result="deleteResult"
              @favorite-result="favoriteResult"
            ></result-item>
          </results-list>
        </section>
      </main>
      <footer class="flex items-center justify-center h-16">
        <a href="https://rildev.website" target="_blank" class="text-blue-500"
          >RilDev</a
        >
        &copy; 2021
      </footer>
    </div>
    <script type="module" src="/main.js"></script>
  </body>
</html>
